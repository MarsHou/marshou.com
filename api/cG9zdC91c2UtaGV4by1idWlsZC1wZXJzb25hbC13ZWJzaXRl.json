{"title":"使用HEXO搭建个人网站","date":"2019-08-20T07:33:13.000Z","link":"post/use-hexo-build-personal-website","comments":true,"updated":"2019-08-21T01:54:37.817Z","content":"<h3 id=\"工作步骤\">工作步骤<a href=\"post/use-hexo-build-personal-website#工作步骤\"></a></h3><ul>\n<li><p>MacOS电脑</p>\n</li>\n<li><p>安装Hexo之前，安装好 <a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"noopener\">Node.js</a> , <a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener\">Git</a></p>\n</li>\n<li><p>使用 <code>npm install -g hexo-cli</code> 安装hexo程序</p>\n</li>\n<li><p>初始化BLOG</p>\n</li>\n<li><p>本地运行调试</p>\n</li>\n<li><p>部署</p>\n</li>\n</ul>\n<h3 id=\"开始\">开始<a href=\"post/use-hexo-build-personal-website#开始\"></a></h3><h4 id=\"准备工作\">准备工作<a href=\"post/use-hexo-build-personal-website#准备工作\"></a></h4><h5 id=\"安装Node-js\">安装Node.js<a href=\"post/use-hexo-build-personal-website#安装Node-js\"></a></h5><p>安装 Node.js 的最佳方式是使用 <a href=\"https://github.com/nvm-sh/nvm\" target=\"_blank\" rel=\"noopener\">nvm</a>。nvm 的开发者提供了一个自动安装 nvm 的简单脚本：</p>\n<p>cURL:</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | sh</span><br></pre></td></tr></table></div></figure>\n<p>Wget:</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | sh</span><br></pre></td></tr></table></div></figure>\n<p>安装完成后，重启终端并执行下列命令即可安装 Node.js。</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install stable</span><br></pre></td></tr></table></div></figure>\n<p>或者您也可以下载 <a href=\"http://nodejs.org/\" target=\"_blank\" rel=\"noopener\">安装程序</a> 来安装。</p>\n<h5 id=\"安装Git\">安装Git<a href=\"post/use-hexo-build-personal-website#安装Git\"></a></h5><p>如果你的电脑安装了Xcode，即已安装好git，如果没有，可以使用以下命令安装Git</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install git</span><br></pre></td></tr></table></div></figure>\n<p>检测是否安装了Git</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span> git</span><br><span class=\"line\">usage: git [--version] [--help] [-C &lt;path&gt;] [-c &lt;name&gt;=&lt;value&gt;]</span><br><span class=\"line\">           [--exec-path[=&lt;path&gt;]] [--html-path] [--man-path] [--info-path]</span><br><span class=\"line\">           [-p | --paginate | --no-pager] [--no-replace-objects] [--bare]</span><br><span class=\"line\">           [--git-dir=&lt;path&gt;] [--work-tree=&lt;path&gt;] [--namespace=&lt;name&gt;]</span><br><span class=\"line\">           &lt;command&gt; [&lt;args&gt;]</span><br></pre></td></tr></table></div></figure>\n<h5 id=\"安装Hexo\">安装Hexo<a href=\"post/use-hexo-build-personal-website#安装Hexo\"></a></h5><figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></div></figure>\n<p>安装完成后，输入命令 <code>hexo</code> 以检测是否安装成功。</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span> hexo</span><br><span class=\"line\">Usage: hexo &lt;command&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">Commands:</span><br><span class=\"line\">  help     Get help on a command.  init     Create a new Hexo folder.  version  Display version information.</span><br><span class=\"line\">Global Options:</span><br><span class=\"line\">  --config  Specify config file instead of using _config.yml  --cwd     Specify the CWD  --debug   Display all verbose messages in the terminal  --draft   Display draft posts  --safe    Disable all plugins and scripts  --silent  Hide output on console</span><br><span class=\"line\">For more help, you can use 'hexo help [command]' for the detailed information</span><br><span class=\"line\">or you can check the docs: http://hexo.io/docs/</span><br></pre></td></tr></table></div></figure>\n<p>以上是安装成功的输出。</p>\n<h3 id=\"搭建BLOG\">搭建BLOG<a href=\"post/use-hexo-build-personal-website#搭建BLOG\"></a></h3><h4 id=\"创建BLOG\">创建BLOG<a href=\"post/use-hexo-build-personal-website#创建BLOG\"></a></h4><p>首先初始化一个BLOG框架结构</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span> hexo init blog</span><br><span class=\"line\">INFO  Cloning hexo-starter https://github.com/hexojs/hexo-starter.git</span><br><span class=\"line\">Cloning into '/Users/Mars/blog'...</span><br><span class=\"line\">...</span><br><span class=\"line\">...</span><br><span class=\"line\">found 1 low severity vulnerability</span><br><span class=\"line\">  run `npm audit fix` to fix them, or `npm audit` for details</span><br><span class=\"line\">INFO  Start blogging with Hexo!</span><br></pre></td></tr></table></div></figure>\n<p>然后命令进入blog文件夹开启本地调试服务。</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span> cd blog</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo server</span><br><span class=\"line\">INFO  Start processing</span><br><span class=\"line\">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></div></figure>\n<p>用浏览器打开 <a href=\"http://localhost:4000\" target=\"_blank\" rel=\"noopener\">http://localhost:4000</a> 查看BLOG的展示效果。</p>\n<h4 id=\"部署BLOG\">部署BLOG<a href=\"post/use-hexo-build-personal-website#部署BLOG\"></a></h4><h5 id=\"拥有GitHub账号\">拥有GitHub账号<a href=\"post/use-hexo-build-personal-website#拥有GitHub账号\"></a></h5><p>打开 <a href=\"https://github.com/\" target=\"_blank\" rel=\"noopener\">GitHub官网</a> 注册账号</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/register_github.jpg?m=webp&q=80\" alt=\"sign up\" class=\"article-img\"></p>\n<p>设置密码</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/set_up_accout.jpg?m=webp&q=80\" alt=\"set up account\" class=\"article-img\"></p>\n<p>选择免费即可，下面的订阅可以去除☑️</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/set_free_account.jpg?m=webp&q=80\" alt=\"set free account\" class=\"article-img\"></p>\n<p>第三步可直接跳过</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/set_up_skip.jpg?m=webp&q=80\" alt=\"set up skip\" class=\"article-img\"></p>\n<p>账号创建成功，需要验证邮箱</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/please_verify_email.jpg?m=webp&q=80\" alt=\"verify email\" class=\"article-img\"></p>\n<p>查看邮件，点击Verify email address</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/verify_email.jpg?m=webp&q=80\" alt=\"verify email\" class=\"article-img\"></p>\n<h5 id=\"创建-GitHub-Pages-仓库\">创建 <a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener\">GitHub Pages</a> 仓库<a href=\"post/use-hexo-build-personal-website#创建-GitHub-Pages-仓库\"></a></h5><p>点击Verify email address 后会自动打开创建仓库的页面，填入<code>username.github.io</code>, <code>username</code> 要对应上你的GitHub用户名，选择<code>Public</code> （微软收购后，GitHub pages不支持private），点击 <code>Create repository</code> 按钮。</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/create_repository.jpg?m=webp&q=80\" alt=\"create repository\" class=\"article-img\"></p>\n<p>创建成功按下图所示点击1处切换SSH，点击2处copy内容</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/copy_ssh.jpg?m=webp&q=80\" alt=\"copy ssh\" class=\"article-img\"></p>\n<h5 id=\"配置BLOG\">配置BLOG<a href=\"post/use-hexo-build-personal-website#配置BLOG\"></a></h5><p>安装 <a href=\"https://github.com/hexojs/hexo-deployer-git\" target=\"_blank\" rel=\"noopener\">hexo-deployer-git</a>。</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></div></figure>\n<p>打开blog目录下的_config.yml文件，下图所用IDE为 <a href=\"https://code.visualstudio.com/download\" target=\"_blank\" rel=\"noopener\">VSCode</a>，把上面copy的内容粘贴到<code>repo</code>的值处</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/config_deploy.jpg?m=webp&q=80\" alt=\"Config deploy\" class=\"article-img\"></p>\n<figure class=\"highlight yml\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\"><span class=\"attr\">  type:</span> <span class=\"string\">git</span></span><br><span class=\"line\"><span class=\"attr\">  repo:</span> <span class=\"string\">git@github.com:UserName/username.github.io.git</span></span><br><span class=\"line\"><span class=\"attr\">  branch:</span> <span class=\"string\">master</span></span><br></pre></td></tr></table></div></figure>\n<h5 id=\"配置本地Git信息以及添加SSH-keys\">配置本地Git信息以及添加SSH keys<a href=\"post/use-hexo-build-personal-website#配置本地Git信息以及添加SSH-keys\"></a></h5><p>1、设置全局本地用户信息</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name 'username'</span><br><span class=\"line\">git config --global user.email 'username@gmail.com'</span><br></pre></td></tr></table></div></figure>\n<p>2、生成SSH keys</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span> ssh-keygen -t rsa -b 4096 -C \"username@gmail.com\"</span><br><span class=\"line\">Generating public/private rsa key pair.</span><br><span class=\"line\">Enter file in which to save the key (/Users/username/.ssh/id_rsa):</span><br><span class=\"line\">Enter passphrase (empty for no passphrase):</span><br><span class=\"line\">Enter same passphrase again:</span><br><span class=\"line\">Your identification has been saved in /Users/username/.ssh/id_rsa.</span><br><span class=\"line\">Your public key has been saved in /Users/username/.ssh/id_rsa.pub.</span><br><span class=\"line\">The key fingerprint is:</span><br><span class=\"line\">SHA256:0UP0s5TabjLIH8uGANrwx3OQkrOO7dD1KRU2xoLePjE username@gmail.com</span><br><span class=\"line\">The key's randomart image is:</span><br><span class=\"line\">+---[RSA 4096]----+</span><br><span class=\"line\">|         .o      |</span><br><span class=\"line\">|     . . o . .   |</span><br><span class=\"line\">|    ....B o =    |</span><br><span class=\"line\">|  ..=.o+ + = o   |</span><br><span class=\"line\">|   =.*E.S . o    |</span><br><span class=\"line\">|  ..+o=*.o .     |</span><br><span class=\"line\">|  .+..++=.+ o    |</span><br><span class=\"line\">|  ..o  o.o.*     |</span><br><span class=\"line\">|   ..    .+      |</span><br><span class=\"line\">+----[SHA256]-----+</span><br></pre></td></tr></table></div></figure>\n<p>蓝色框中的三行</p>\n<ul>\n<li>第一行按回车确认路径</li>\n<li>第二行输入密码（可回车不设置密码）</li>\n<li>第三行确认密码（如未设置密码也回车）</li>\n</ul>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/generate_ssh_keys.jpg?m=webp&q=80\" alt=\"generate keys\" class=\"article-img\"></p>\n<p>3、GitHub add SSH keys</p>\n<p>用命令拷贝公钥内容</p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pbcopy &lt; ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></div></figure>\n<p>进入 <a href=\"https://github.com/settings/ssh/new\" target=\"_blank\" rel=\"noopener\">添加SSH keys</a> 页面粘贴到Key的内容框，title随意填。点击<code>Add SSH key</code>按钮</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/fill_keys.jpg?m=webp&q=80\" alt=\"add keys\" class=\"article-img\"></p>\n<h5 id=\"部署BLOG到GitHub-Pages\">部署BLOG到GitHub Pages<a href=\"post/use-hexo-build-personal-website#部署BLOG到GitHub-Pages\"></a></h5><p>使用命令<code>hexo d -g</code></p>\n<figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span> hexo d -g</span><br><span class=\"line\">INFO  Start processing</span><br><span class=\"line\">INFO  Files loaded in 104 ms</span><br><span class=\"line\">INFO  0 files generated in 151 ms</span><br><span class=\"line\">INFO  Deploying: git</span><br><span class=\"line\">INFO  Clearing .deploy_git folder...</span><br><span class=\"line\">INFO  Copying files from public folder...</span><br><span class=\"line\">INFO  Copying files from extend dirs...</span><br><span class=\"line\">On branch master</span><br><span class=\"line\">nothing to commit, working tree clean</span><br><span class=\"line\">Warning: Permanently added the RSA host key for IP address '13.229.188.59' to the list of known hosts.</span><br><span class=\"line\">Enumerating objects: 48, done.</span><br><span class=\"line\">Counting objects: 100% (48/48), done.</span><br><span class=\"line\">Delta compression using up to 4 threads</span><br><span class=\"line\">Compressing objects: 100% (38/38), done.</span><br><span class=\"line\">Writing objects: 100% (48/48), 507.41 KiB | 1.87 MiB/s, done.</span><br><span class=\"line\">Total 48 (delta 5), reused 0 (delta 0)</span><br><span class=\"line\">remote: Resolving deltas: 100% (5/5), done.</span><br><span class=\"line\">To github.com:username/username.github.io.git</span><br><span class=\"line\"> * [new branch]      HEAD -&gt; master</span><br><span class=\"line\">Branch 'master' set up to track remote branch 'master' from 'git@github.com:username/username.github.io.git'.</span><br><span class=\"line\">INFO  Deploy done: git</span><br></pre></td></tr></table></div></figure>\n<p>部署完成后浏览器打开BLOG地址 <a href=\"username.github.io\">username.github.io</a> 查看部署效果</p>\n<p><img src=\"https://marshou.github.io/post/use-hexo-build-personal-website/images/hexo_index.jpg?m=webp&q=80\" alt=\"hexo index\" class=\"article-img\"></p>\n<h3 id=\"常用HEXO-命令\">常用HEXO 命令<a href=\"post/use-hexo-build-personal-website#常用HEXO-命令\"></a></h3><figure class=\"highlight shell\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> 初始化blog</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo init blog</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span> 创建新文章</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo new \"文章标题\"</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span> 安装插件模块</span><br><span class=\"line\"><span class=\"meta\">$</span> npm install</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span> 清除缓存</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo clean</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span> 生成blog静态文件</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo generate</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span> 开启本地服务</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo server</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span> 部署</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo deploy</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span> 部署+生成blog静态文件</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo d -g</span><br></pre></td></tr></table></div></figure>\n<p>以上为搭建全部流程，如有未懂之处，可留言。<br>Enjoy!</p>\n","next":{"title":"被Jenkins坑过的日子","link":"post/Fix-Jenkins-bug-life"},"plink":"http://marshou.github.io/post/use-hexo-build-personal-website/","reward":true,"copyright":{"author":"Mars Hou","link":"<a href=\"http://marshou.github.io/post/use-hexo-build-personal-website/\" title=\"使用HEXO搭建个人网站\">http://marshou.github.io/post/use-hexo-build-personal-website/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)"}}